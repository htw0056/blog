# setuid

### 注意

1. 只有可执行的二进制程序才能设定SUID权限
2. 命令执行者要对该程序拥有x（执行）权限
3. 命令执行者在执行该程序时获得该文件所有者的身份
4. setuid权限只在该程序执行过程中有效，也就是说身份改变只在程序执行过程中有效
5. 只作用于文件，不能用于目录

### 命令

```
chmod 4755 文件名
或
chmod u+s 文件名
```


# setgid

### 注意

1. 只有可执行的二进制程序才能设定SGID权限
2. 命令执行者要对该程序拥有x（执行）权限
3. 命令执行在执行过程的时候，组身份升级为该程序文件的所属组
4. setgid权限通用只在该程序的执行过程中有效，也就是说组身份改变只在程序执行过程中有效
5. 能作用于文件和目录

### 命令

```
chmod 2755 文件名
或
chmod g+s 文件名
```


### sgid对目录的作用：

1. 用户若对此目录具有r与x的权限时，该用户能够进入此目录
2. 用户在此目录下的有效群组将会变成该目录的群组
3. 用途：若用户在此目录下具有w的权限，则使用者所建立的新档案，该新档案的群组与此目录的群组相同


# sticky BIT

### 注意

1. 粘着位目前只对目录有效
2. 普通用户对该目录拥有w和x权限，即普通用户可以在此目录拥有写入权限
3. 如果没有粘着位，因为普通用户拥有w权限，所以可以删除此目录下所有文件，包括其用户建立的文件，一旦赋予了粘着位，除了root可以删除所有文件，普通用户就算拥有w权限，一只能删除自己建立的文件，但是不能删除其他用户建立的文件


### 命令

```
chmod 1755 文件名
或
chmod o+t 文件名
```



# 档案隐藏属性

### chattr

格式：`chattr [+-=] [ASacdistu] 文件名`  

选项|作用
---|---
**a**|当设定a之后,这个档案将叧能增加数据,而不能删除也不能修改数据,只有root才能设定这个属性
**i**|它可以让一个文档不能被删除改名、设定链接、也无法写入或新增资料，只有root才能设定此属性
A|当设定了A这个属性时，若你有存取此档案（或目录）时，他的访问时间atime将不会被修改，可避免I/O较慢的汲取过度的存取磁盘
S|一般档案是异步磁盘的，如果加上S这个属性时，当你进行任何档案的修改，该更动会同步写入磁盘中

### lsattr

格式：`lsattr [-adR] 文件名`

选项|作用
---|---
a|将隐藏文件的属性也列出来
d|如果接的是目录，仅列出目录本身的属性而非目录内的文件名
R|连同子目录的数据也一并列出来



